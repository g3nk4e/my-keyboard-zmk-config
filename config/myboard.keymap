#include <behaviors.dtsi> // 基本的なビヘイビアをインクルード
#include <dt-bindings/zmk/keys.h> // キーコード定義をインクルード
#include <dt-bindings/zmk/bt.h>   // Bluetooth コマンドをインクルード

/ {
    keymap {
        compatible = "zmk,keymap";

        default_layer { // 基本レイヤー
            bindings = <
            // ここにキーマップを記述します。
            // 画像3のレイアウトに合わせて、行ごとに入力します。
            // &kp は通常のキーストロークです。例: &kp A は 'A' キー
            // &trans は透明なキーで、下のレイヤーのキーを有効にします。
            // NC (No Connection) または &none は何も割り当てないキーです。

            // Row 0 (最上段)
            &kp N7  &kp N8  &kp N9    &kp N0    &kp F7    &kp DEL   &kp MINUS
            // Row 1
            &kp F6  &kp Q   &kp W     &kp E     &kp R     &kp T     &kp BACKSPACE
            // Row 2
            &kp Y   &kp U   &kp I     &kp O     &kp P     &kp LBKT  &kp RBKT  // LBKT=[, RBKT=]
            // Row 3
            &kp H   &kp J   &kp K     &kp L     &kp EQUAL &kp SEMI  &kp SQT   // EQUAL= =, SEMI=;, SQT='
            // Row 4
            &kp B   &kp N   &kp M     &kp COMMA &kp DOT   &kp SLASH &kp ENTER
            // Row 5 (最下段)
            &kp BSPC &kp LGUI &kp LALT &kp LEFT  &kp UP    &kp DOWN  &kp RIGHT
            // 画像3の配置だと、Row5の最初の2つがBACKSPACEとENTERに見えますが、
            // 物理的な配線が6行7列なので、画像3のキーの数を合わせる必要があります。
            // 画像3の最下段は7キーありますが、5行目と6行目にまたがっているように見えます。
            // 提供されたマトリックスは6行7列なので、それに合わせる必要があります。
            // ここでは画像3の下から2段目までを5行で表現し、最下段は適宜調整しました。
            // もしレイアウトが正確に6x7に収まるなら、それに合わせてください。
            // 例として、画像3の最下段左のBACKSPACEとENTERは、
            // 実際の6x7マトリックスのどこに配置されているか確認が必要です。
            // 仮に左下隅から並んでいるとして、以下のようにも考えられます。
            // &kp LGUI &kp LALT &kp LCTRL &kp LEFT  &kp UP    &kp DOWN  &kp RIGHT (もしこれが6行目なら)
            >;
        };

        // 必要であれば、他のレイヤー (例: Fnキーを押したときの動作) も定義できます
        // fn_layer {
        //     bindings = <
        //     &trans  &trans  &trans  &trans  &trans  &trans  &trans
        //     ...
        //     >;
        // };
    };

    // Bluetooth設定 (オプション、通常はデフォルトで有効)
    // behaviors {
    //     // Bluetooth クリアコマンドなど、必要に応じてビヘイビアを定義
    // };
};
